
accounts_v3_search:
    path:  /{role}/v3/accounts/search
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\AccountsController::searchAction }
    methods: [GET]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"

##################### CRUD / V3 ############################

crud_v3_search:
    path:  /{role}/v3/{object}/search
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::searchAction }
    methods: [GET]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"

crud_v3_export:
    path:  /{role}/v3/{object}/export
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::exportAction }
    methods: [GET]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"

crud_v3_index:
    path:  /{role}/v3/{object}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::indexAction }
    methods: [GET]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"

crud_v3_show:
    path:  /{role}/v3/{object}/{id}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::showAction }
    methods: [GET]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"
        id: "[0-9]+"

crud_v3_create:
    path:  /{role}/v3/{object}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::createAction }
    methods: [POST]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"

crud_v3_add_relationship:
    path:  /{role}/v3/{object}/{id}/{relationship}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::addRelationshipAction }
    methods: [POST]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"
        id: "[0-9]+"
        relationship: "[a-z_]+"

crud_v3_delete_relationship:
    path:  /{role}/v3/{object}/{id1}/{relationship}/{id2}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::deleteRelationshipAction }
    methods: [DELETE]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"
        id1: "[0-9]+"
        relationship: "[a-z_]+"
        id2: "[0-9]+"

crud_v3_update:
    path:  /{role}/v3/{object}/{id}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::updateAction }
    methods: [PUT]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"
        id: "[0-9]+"

crud_v3_delete:
    path:  /{role}/v3/{object}/{id}
    defaults: { _controller: App\FinancialApiBundle\Controller\CRUD\CRUDController::deleteAction }
    methods: [DELETE]
    requirements:
        role: "(public|user|manager|self|admin|sadmin)"
        object: "[a-z_]+"
        id: "[0-9]+"
